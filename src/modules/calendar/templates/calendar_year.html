{% extends "layout.html" %}
{% block module_content %}
<div class="calendar-controls">
  <div class="calendar-views">
    <a href="{{ url_for('calendar.month_view_route', year=year, month=1, proj=project) }}">Monthly</a> |
    <a href="{{ url_for('calendar.week_view_route', date=year ~ '-01-01', proj=project) }}">Weekly</a> |
    <a href="{{ url_for('calendar.day_view_route', date=year ~ '-01-01', proj=project) }}">Daily</a> |
    <a href="{{ url_for('calendar.year_view_route', year=year, proj=project) }}">Yearly</a>
  </div>
  <a class="calendar-nav" href="{{ url_for('calendar.year_view_route', year=year-1, proj=project) }}">Prev</a>
  <div class="calendar-title">{{ year }}</div>
  <a class="calendar-nav" href="{{ url_for('calendar.year_view_route', year=year+1, proj=project) }}">Next</a>
  <a class="calendar-add-main" href="{{ url_for('calendar.import_events_route', proj=project) }}">Import Events</a>
</div>

<div style="display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 12px;">
  {% for month in months %}
  <div>
    {% set month_name = month.month_name %}
    {% set month_weeks = month.month_weeks %}
    {% set days_with_events = month.days_with_events %}
    {% set month_num = month.month %}
    {% set year_num = year %}
    {% set year = year_num %}
    {% set month = month_num %}
    {% include "widgets/wid_calendar_mini_month.html" %}
  </div>
  {% endfor %}
</div>
{% endblock %}
